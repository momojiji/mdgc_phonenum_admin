<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>首页</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<link rel="stylesheet" href="../static/layui/css/layui.css" media="all">
		<link rel="stylesheet" href="../static/style/admin.css" media="all">
		<link rel="stylesheet" href="../static/css/style.min862f.css" media="all">
	</head>
	<body>
		<div class="layui-fluid">
			<div class="layui-col-md12">
				<div class="layui-card">
					<div class="layui-card-header">系统公告</div>
					<div class="layui-card-body">
						<ul id="nt-example1">
							<li>
								<h3>1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111</h3>
							</li>
							<li>
								<h3>2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h3>
							</li>
							<li>
								<h3>3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333</h3>
							</li>
							<li>
								<h3>4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444</h3>
							</li>
							<li>
								<h3>55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555</h3>
							</li>
							<li>
								<h3>66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666</h3>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="layui-row layui-col-space15">
				<div class="layui-col-sm1 layui-col-md1">
				</div>
				<div class="layui-col-sm2 layui-col-md2">
					<div class="widget style1 red-bg">
						<h2> 号码数量 </h2>
						<br>
						<div class="layui-row">
							<div class="layui-col-xs4">
								<i class="fa fa-floppy-o fa-3x"></i>
							</div>
							<div class="layui-col-xs8 text-right">
								<h2 class="font-bold">68812</h2>
							</div>
						</div>
					</div>
				</div>
				<div class="layui-col-sm2 layui-col-md2">
					<div class="widget style1 violet-bg">
						<h2> 代理数量 </h2>
						<br>
						<div class="layui-row">
							<div class="layui-col-xs4">
								<i class="fa fa-user-o fa-3x"></i>
							</div>
							<div class="layui-col-xs8 text-right">
								<h2 class="font-bold">68</h2>
							</div>
						</div>
					</div>
				</div>
				<div class="layui-col-sm2 layui-col-md2">
					<div class="widget style1 yellow-bg">
						<h2> 访客数量 </h2>
						<br>
						<div class="layui-row">
							<div class="layui-col-xs4">
								<i class="fa fa-users fa-3x"></i>
							</div>
							<div class="layui-col-xs8 text-right">
								<h2 class="font-bold">88</h2>
							</div>
						</div>
					</div>
				</div>
				<div class="layui-col-sm2 layui-col-md2">
					<div class="widget style1 amaranth-bg">
						<h2> 订单数量 </h2>
						<br>
						<div class="layui-row">
							<div class="layui-col-xs4">
								<i class="fa fa-envelope-o fa-3x"></i>
							</div>
							<div class="layui-col-xs8 text-right">
								<h2 class="font-bold">58</h2>
							</div>
						</div>
					</div>
				</div>
				<div class="layui-col-sm2 layui-col-md2">
					<div class="widget style1 viridis-bg">
						<h2> 成交数额 </h2>
						<br>
						<div class="layui-row">
							<div class="layui-col-xs4">
								<i class="fa fa fa-usd fa-3x"></i>
							</div>
							<div class="layui-col-xs8 text-right">
								<h2 class="font-bold">8595</h2>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="layui-card">
				<div class="layui-card-body">
					<div class="layui-row" style="text-align: center;">
						<ul class="layui-row layui-col-space10">
							<li class="layui-col-xs2">
								<a>
									<cite><i class="fa fa-user-circle" style="color: #38A28A;" aria-hidden="true"></i>&nbsp;
										供应商&nbsp;&nbsp;50&nbsp;&nbsp;家</cite>
								</a>
							</li>
							<li class="layui-col-xs2">
								<a>
									<cite><i class="fa fa-user-circle" style="color: #38A28A;" aria-hidden="true"></i>&nbsp;
										代理商&nbsp;&nbsp;500&nbsp;&nbsp;家</cite>
								</a>
							</li>
							<li class="layui-col-xs2">
								<a>
									<cite><i class="fa fa-mobile" style="color: #38A28A;" aria-hidden="true"></i>&nbsp;在售号码&nbsp;&nbsp;50000&nbsp;&nbsp;个</cite>
								</a>
							</li>
							<li class="layui-col-xs2">
								<a>
									<cite><i class="fa fa-television" style="color: #38A28A;" aria-hidden="true"></i>&nbsp;累计销售量&nbsp;&nbsp;50000000000条&nbsp;&nbsp;</cite>
								</a>
							</li>
							<li class="layui-col-xs2">
								<a>
									<cite><i class="fa fa-television" style="color: #38A28A;" aria-hidden="true"></i>&nbsp;累计回收量&nbsp;&nbsp;5000000&nbsp;&nbsp;条</cite>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="layui-row layui-col-space15">
				<div class="layui-col-sm6 layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">
							昨日新增订单
						</div>
						<div class="layui-card-body layuiadmin-card-list">
							<p class="layuiadmin-big-font">9,999,666</p>
						</div>
					</div>
				</div>
				<div class="layui-col-sm6 layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">
							售出订单
						</div>
						<div class="layui-card-body layuiadmin-card-list">
							<p class="layuiadmin-big-font">9,999,666</p>
						</div>
					</div>
				</div>
				<div class="layui-col-sm6 layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">
							靓号定制订单
						</div>
						<div class="layui-card-body layuiadmin-card-list">
							<p class="layuiadmin-big-font">9,999,666</p>
						</div>
					</div>
				</div>
				<div class="layui-col-sm6 layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">
							靓号回收订单
						</div>
						<div class="layui-card-body layuiadmin-card-list">
							<p class="layuiadmin-big-font">9,999,666</p>
						</div>
					</div>
				</div>

				<div class="layui-col-sm6 layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">
							昨日交易流水
						</div>
						<div class="layui-card-body layuiadmin-card-list">
							<p class="layuiadmin-big-font">9,999,666</p>
						</div>
					</div>
				</div>
				<div class="layui-col-sm6 layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">
							昨日收入
						</div>
						<div class="layui-card-body layuiadmin-card-list">
							<p class="layuiadmin-big-font">9,999,666</p>
						</div>
					</div>
				</div>
				<div class="layui-col-sm6 layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">
							昨日订单支出
						</div>
						<div class="layui-card-body layuiadmin-card-list">
							<p class="layuiadmin-big-font">9,999,666</p>
						</div>
					</div>
				</div>
				<div class="layui-col-sm6 layui-col-md3">
					<div class="layui-card">
						<div class="layui-card-header">
							昨日提现支出
						</div>
						<div class="layui-card-body layuiadmin-card-list">
							<p class="layuiadmin-big-font">9,999,666</p>
						</div>
					</div>
				</div>
				<div class="layui-col-md6">
					<div class="layui-card">
						<div class="layui-card-body">
							<div id="pv_container" style="height:400px;"></div>
						</div>
					</div>
				</div>
				<div class="layui-col-md6">
					<div class="layui-card">
						<div class="layui-card-body">
							<div id="order_container" style="height:400px;"></div>
						</div>
					</div>
				</div>
				<div class="layui-col-md6">
					<div class="layui-card">
						<div class="layui-card-body">
							<div id="city_container" style="height:400px;"></div>
						</div>
					</div>
				</div>
				<div class="layui-col-md6">
					<div class="layui-card">
						<div class="layui-card-body">
							<div id="haomaprice_container" style="height:400px;"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="../static/layui/layui.js?t=1"></script>
		<script src="../static/js/fa.js"></script>
		<script src="http://cdn.highcharts.com.cn/highcharts/highcharts.js"></script>
		<script src="../static/js/jquery.min.js"></script>
		<script src="../static/js/jquery.newsTicker.min.js"></script>
		<script>
			$('#nt-example1').newsTicker({
				row_height: 20,
				max_rows: 4,
				duration: 1000
			});

			var pv_data = {
				"date": [
					"2020/05/01",
					"2020/05/02",
					"2020/05/03",
					"2020/05/04",
					"2020/05/05",
					"2020/05/06",
					"2020/05/07"
				],
				"num": [10, 40, 80, 120, 100, 150, 180]
			};

			var order_data = {
				"date": [
					"2020/05/01",
					"2020/05/02",
					"2020/05/03",
					"2020/05/04",
					"2020/05/05",
					"2020/05/06",
					"2020/05/07"
				],
				"num": [100, 400, 810, 1120, 1200, 1350, 11180]
			};

			var city_num_data = {
				"data": [
					["上海", 2400],
					["北京", 2300],
					["天津", 2100],
					["广州", 1925],
					["深圳", 1725],
					["西安", 1625],
					["太原", 1525],
					["大连", 1525],
					["铁岭", 1225]
				]
			};

			var numPrice_data = {
				"data": [{
					name: '500-1000',
					y: 61.41,
				}, {
					name: '1001-3000',
					y: 11.84
				}, {
					name: '3001-5000',
					y: 10.85
				}, {
					name: '5001-10000',
					y: 4.67
				}, {
					name: '1万-3万',
					y: 4.18
				}, {
					name: '3-10万',
					y: 1.64
				}, {
					name: '10万以上',
					y: 1.6
				}]
			};
			//近7日销售订单数量趋势变化
			Highcharts.chart('order_container', {
				chart: {
					type: 'line'
				},
				colors: ['#ff0000'],
				title: {
					text: '近7日销售订单数量趋势变化'
				},
				xAxis: {
					categories: order_data.date
				},
				yAxis: {
					title: {
						text: '数量'
					}
				},
				plotOptions: {
					line: {
						dataLabels: {
							enabled: true // 开启数据标签         
						},
						// 关闭鼠标跟踪，对应的提示框、点击事件会失效
						enableMouseTracking: false
					}
				},
				series: [{
					name: '近7日销售订单数量趋势变化',
					data: order_data.num
				}]
			});
			
			//初始化图表数据
			pv_container_func(pv_data);
			
			
			//每一个渲染图表都放在一个方法中等待合适时机调用
			function pv_container_func(pv_data){
				//近7日用户访问趋势变化
				Highcharts.chart('pv_container', {
					chart: {
						type: 'line'
					},
					colors: ['#ff5500'],
					title: {
						//加粗
						text: '<strong>近7日用户访问趋势变化</strong>'
					},
					subtitle: {
						useHTML: true,
						align: 'right',
						text: '<select id="pv_container_select"><option value ="1">近七天</option><option value ="2">近十五天</option><option value="3">近三十天</option></select>'
					},
					xAxis: {
						categories: pv_data.date
					},
					yAxis: {
						title: {
							text: '数量'
						}
					},
					plotOptions: {
						line: {
							dataLabels: {
								enabled: true // 开启数据标签         
							},
							enableMouseTracking: false // 关闭鼠标跟踪，对应的提示框、点击事件会失效
						}
					},
					series: [{
						name: '近7日用户访问趋势变化',
						data: pv_data.num
					}]
				});
				
			}
			//下拉框选择时，异步请求
			$("#pv_container_select").change(function(){
				console.log($(this).val());
				//ajax请求后端接口得到筛选后的数据
				var pv_data = {
					"date": [
						"2020/05/01",
						"2020/05/02",
						"2020/05/03",
						"2020/05/04",
						"2020/05/05",
						"2020/05/06",
						"2020/05/07"
					],
					"num": [30, 50, 100, 120, 100, 150, 50]
				};
				//再次调用方法渲染图表
				pv_container_func(pv_data)
			})
			
			// 号码段
			Highcharts.chart('haomaprice_container', {
				chart: {
					plotBackgroundColor: null,
					plotBorderWidth: null,
					plotShadow: false,
					type: 'pie'
				},
				title: {
					text: '号码价格段统计'
				},
				tooltip: {
					pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
				},
				plotOptions: {
					pie: {
						allowPointSelect: true,
						cursor: 'pointer',
						dataLabels: {
							enabled: true,
							format: '<b>{point.name}</b>: {point.percentage:.1f} %',
							style: {
								color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
							}
						},
						showInLegend: true
					}
				},
				series: [{
					name: '占比',
					colorByPoint: true,
					data: numPrice_data.data
				}]
			});

			//城市
			Highcharts.chart('city_container', {
				chart: {
					type: 'column'
				},
				title: {
					text: '城市号码量TOP10'
				},

				xAxis: {
					type: 'category',
					labels: {
						rotation: -45 // 设置轴标签旋转角度
					}
				},
				yAxis: {
					min: 0,
					title: {
						text: '号码量'
					}
				},
				legend: {
					enabled: false
				},
				tooltip: {
					pointFormat: '号码量: <b>{point.y:.1f}</b>'
				},
				series: [{
					name: '号码量',
					data: city_num_data.data,
					dataLabels: {
						enabled: true,
						rotation: -90,
						color: '#FFFFFF',
						align: 'right',
						format: '{point.y:.1f}', // :.1f 为保留 1 位小数
						y: 10
					}
				}]
			});
		</script>
		<script>
			layui.config({
				base: '../static/' //静态资源所在路径
			}).extend({
				index: 'lib/index' //主入口模块
			}).use(['index', 'console']);
		
		</script>


	</body>
</html>
